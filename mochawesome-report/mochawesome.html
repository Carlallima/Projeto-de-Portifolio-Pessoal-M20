<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:3,&quot;tests&quot;:13,&quot;passes&quot;:13,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2025-11-08T00:00:25.654Z&quot;,&quot;end&quot;:&quot;2025-11-08T00:00:25.904Z&quot;,&quot;duration&quot;:250,&quot;testsRegistered&quot;:13,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;6ed27bbd-2cbf-4ba7-b6ce-4aa3bc9aa2ac&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;before all\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(15000);\nconst port = Number(process.env.PORT || 3000);\ncheckPortInUse(port, (alive) =&gt; {\n\tif (alive) return done();\n\t// Não está rodando: inicia o servidor programaticamente via app.listen\n\tprocess.env.PORT = String(port);\n\tconst app = require(&#x27;../src/app&#x27;);\n\tconst server = app.listen(port, () =&gt; {\n\t\tdone();\n\t});\n\tserver.on(&#x27;error&#x27;, (err) =&gt; {\n\t\t// Se ainda assim houver EADDRINUSE, apenas siga em frente para não quebrar a suíte\n\t\tif (err &amp;&amp; err.code === &#x27;EADDRINUSE&#x27;) return done();\n\t\tdone(err);\n\t});\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6792b1d8-6338-4496-85f8-aadfd0a68c5e&quot;,&quot;parentUUID&quot;:&quot;6ed27bbd-2cbf-4ba7-b6ce-4aa3bc9aa2ac&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;71ea0743-846f-4549-a9b4-b56750c14d7d&quot;,&quot;title&quot;:&quot; Testes de Contratos&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Usuario\\OneDrive\\Área de Trabalho\\Projetos\\Projeto-de-Portifolio-Pessoal-M20\\tests\\contracts.test.js&quot;,&quot;file&quot;:&quot;\\tests\\contracts.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Deve criar contrato (POST /api/contracts)&quot;,&quot;fullTitle&quot;:&quot; Testes de Contratos Deve criar contrato (POST /api/contracts)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:141,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const contrato = {\n  clientName: \&quot;Empresa XPTO\&quot;,\n  value: 2500,\n  date: \&quot;2025-11-05\&quot;\n};\nconst res = await request(baseUrl)\n  .post(\&quot;/api/contracts\&quot;)\n  .set(\&quot;Authorization\&quot;, token)\n  .send(contrato);\nexpect([200, 201]).to.include(res.status);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c3f85184-57e9-4e3e-beb8-19b0279a262e&quot;,&quot;parentUUID&quot;:&quot;71ea0743-846f-4549-a9b4-b56750c14d7d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot; Deve falhar ao criar contrato sem token&quot;,&quot;fullTitle&quot;:&quot; Testes de Contratos  Deve falhar ao criar contrato sem token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const contrato = {\n  clientName: \&quot;Sem Token\&quot;,\n  value: 1000,\n  date: \&quot;2025-11-05\&quot;\n};\nconst res = await request(baseUrl)\n  .post(\&quot;/api/contracts\&quot;)\n  .send(contrato);\nexpect([401, 403]).to.include(res.status);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d22a1343-8e91-4e44-87b4-15bdcc475290&quot;,&quot;parentUUID&quot;:&quot;71ea0743-846f-4549-a9b4-b56750c14d7d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve falhar ao criar contrato com dados inválidos&quot;,&quot;fullTitle&quot;:&quot; Testes de Contratos Deve falhar ao criar contrato com dados inválidos&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const contrato = { value: \&quot;mil\&quot; }; // campo faltando\nconst res = await request(baseUrl)\n  .post(\&quot;/api/contracts\&quot;)\n  .set(\&quot;Authorization\&quot;, token)\n  .send(contrato);\nexpect([400, 422]).to.include(res.status);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5271ff6f-4626-4b21-981f-b1332bc447df&quot;,&quot;parentUUID&quot;:&quot;71ea0743-846f-4549-a9b4-b56750c14d7d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot; Deve listar contratos (GET /api/contracts)&quot;,&quot;fullTitle&quot;:&quot; Testes de Contratos  Deve listar contratos (GET /api/contracts)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(baseUrl)\n  .get(\&quot;/api/contracts\&quot;)\n  .set(\&quot;Authorization\&quot;, token);\nexpect(res.status).to.equal(200);\nexpect(res.body).to.be.an(\&quot;array\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d4d93812-0e61-4313-89ba-afff12fa6b68&quot;,&quot;parentUUID&quot;:&quot;71ea0743-846f-4549-a9b4-b56750c14d7d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot; Deve falhar ao listar contratos sem token&quot;,&quot;fullTitle&quot;:&quot; Testes de Contratos  Deve falhar ao listar contratos sem token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(baseUrl)\n  .get(\&quot;/api/contracts\&quot;);\nexpect([401, 403]).to.include(res.status);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e5e2ea5c-0773-42db-a0ff-5b8a7358f58c&quot;,&quot;parentUUID&quot;:&quot;71ea0743-846f-4549-a9b4-b56750c14d7d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c3f85184-57e9-4e3e-beb8-19b0279a262e&quot;,&quot;d22a1343-8e91-4e44-87b4-15bdcc475290&quot;,&quot;5271ff6f-4626-4b21-981f-b1332bc447df&quot;,&quot;d4d93812-0e61-4313-89ba-afff12fa6b68&quot;,&quot;e5e2ea5c-0773-42db-a0ff-5b8a7358f58c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:163,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;f05937a1-bda1-4489-91b3-6b21cd95975e&quot;,&quot;title&quot;:&quot; Testes de Emails&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Usuario\\OneDrive\\Área de Trabalho\\Projetos\\Projeto-de-Portifolio-Pessoal-M20\\tests\\email.test.js&quot;,&quot;file&quot;:&quot;\\tests\\email.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot; Deve enviar email (POST /api/emails/send)&quot;,&quot;fullTitle&quot;:&quot; Testes de Emails  Deve enviar email (POST /api/emails/send)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const emailData = {\n  to: \&quot;teste@example.com\&quot;,\n  subject: \&quot;Teste automatizado\&quot;,\n  body: \&quot;Mensagem de teste via API\&quot;\n};\nconst res = await request(baseUrl)\n  .post(\&quot;/api/emails/send\&quot;)\n  .set(\&quot;Authorization\&quot;, token)\n  .send(emailData);\nexpect([200, 201, 202]).to.include(res.status);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;32faf8a0-ff9c-4592-9185-d1d0498b4020&quot;,&quot;parentUUID&quot;:&quot;f05937a1-bda1-4489-91b3-6b21cd95975e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot; Deve falhar ao enviar email sem token&quot;,&quot;fullTitle&quot;:&quot; Testes de Emails  Deve falhar ao enviar email sem token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const emailData = {\n  to: \&quot;teste@example.com\&quot;,\n  subject: \&quot;Falha de autenticação\&quot;,\n  body: \&quot;Sem token\&quot;\n};\nconst res = await request(baseUrl)\n  .post(\&quot;/api/emails/send\&quot;)\n  .send(emailData);\nexpect([401, 403]).to.include(res.status);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5ed58465-593b-4105-84a3-69baec2057f7&quot;,&quot;parentUUID&quot;:&quot;f05937a1-bda1-4489-91b3-6b21cd95975e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot; Deve falhar ao enviar email com dados faltando&quot;,&quot;fullTitle&quot;:&quot; Testes de Emails  Deve falhar ao enviar email com dados faltando&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(baseUrl)\n  .post(\&quot;/api/emails/send\&quot;)\n  .set(\&quot;Authorization\&quot;, token)\n  .send({ to: \&quot;\&quot;, subject: \&quot;\&quot;, body: \&quot;\&quot; });\nexpect([400, 422]).to.include(res.status);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b2c26dfd-2c21-4dab-83ad-2156fe5bea2b&quot;,&quot;parentUUID&quot;:&quot;f05937a1-bda1-4489-91b3-6b21cd95975e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve listar histórico de emails (GET /api/emails)&quot;,&quot;fullTitle&quot;:&quot; Testes de Emails Deve listar histórico de emails (GET /api/emails)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(baseUrl)\n  .get(\&quot;/api/emails\&quot;)\n  .set(\&quot;Authorization\&quot;, token);\nexpect(res.status).to.equal(200);\nexpect(res.body).to.be.an(\&quot;array\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;031bd219-cd81-4f8f-add0-efe80246f7c1&quot;,&quot;parentUUID&quot;:&quot;f05937a1-bda1-4489-91b3-6b21cd95975e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve falhar ao listar emails sem token&quot;,&quot;fullTitle&quot;:&quot; Testes de Emails Deve falhar ao listar emails sem token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(baseUrl)\n  .get(\&quot;/api/emails\&quot;);\nexpect([401, 403]).to.include(res.status);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b37d666a-a452-4354-9053-def3fca73bf5&quot;,&quot;parentUUID&quot;:&quot;f05937a1-bda1-4489-91b3-6b21cd95975e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;32faf8a0-ff9c-4592-9185-d1d0498b4020&quot;,&quot;5ed58465-593b-4105-84a3-69baec2057f7&quot;,&quot;b2c26dfd-2c21-4dab-83ad-2156fe5bea2b&quot;,&quot;031bd219-cd81-4f8f-add0-efe80246f7c1&quot;,&quot;b37d666a-a452-4354-9053-def3fca73bf5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:27,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;d33a9191-8585-4405-969a-a09b11a7cbc2&quot;,&quot;title&quot;:&quot;Testes de Usuários&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Usuario\\OneDrive\\Área de Trabalho\\Projetos\\Projeto-de-Portifolio-Pessoal-M20\\tests\\users.test.js&quot;,&quot;file&quot;:&quot;\\tests\\users.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot; Deve registrar um novo usuário (POST /api/users)&quot;,&quot;fullTitle&quot;:&quot;Testes de Usuários  Deve registrar um novo usuário (POST /api/users)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const userData = {\n  name: \&quot;Carla Tester\&quot;,\n  email: `carla_${Date.now()}@mail.com`,\n  password: \&quot;123456\&quot;\n};\nconst res = await request(baseUrl)\n  .post(\&quot;/api/users\&quot;)\n  .send(userData);\n\nexpect([200, 201]).to.include(res.status);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2cefe80d-4eb0-4aba-ad1e-5b58a969e2bd&quot;,&quot;parentUUID&quot;:&quot;d33a9191-8585-4405-969a-a09b11a7cbc2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot; Deve listar usuários (GET /api/users)&quot;,&quot;fullTitle&quot;:&quot;Testes de Usuários  Deve listar usuários (GET /api/users)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(baseUrl)\n  .get(\&quot;/api/users\&quot;)\n  .set(\&quot;Authorization\&quot;, token); // usa o token fixo\nexpect(res.status).to.equal(200);\nexpect(res.body).to.be.an(\&quot;array\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;388bc816-cd0c-4368-9f00-b8f0d360f5ae&quot;,&quot;parentUUID&quot;:&quot;d33a9191-8585-4405-969a-a09b11a7cbc2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot; Deve falhar ao listar usuários sem token&quot;,&quot;fullTitle&quot;:&quot;Testes de Usuários  Deve falhar ao listar usuários sem token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(baseUrl)\n  .get(\&quot;/api/users\&quot;);\nexpect([401, 403]).to.include(res.status);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;23af0b73-165a-406c-a9bd-69c7378aad90&quot;,&quot;parentUUID&quot;:&quot;d33a9191-8585-4405-969a-a09b11a7cbc2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2cefe80d-4eb0-4aba-ad1e-5b58a969e2bd&quot;,&quot;388bc816-cd0c-4368-9f00-b8f0d360f5ae&quot;,&quot;23af0b73-165a-406c-a9bd-69c7378aad90&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:5000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;11.7.5&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.4&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;6.3.1&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;Projeto-de-Portifolio-Pessoal-M20&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report\\assets&quot;,&quot;jsonFile&quot;:&quot;C:\\Users\\Usuario\\OneDrive\\Área de Trabalho\\Projetos\\Projeto-de-Portifolio-Pessoal-M20\\mochawesome-report\\mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;C:\\Users\\Usuario\\OneDrive\\Área de Trabalho\\Projetos\\Projeto-de-Portifolio-Pessoal-M20\\mochawesome-report\\mochawesome.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>